\newpage
\part{CSS基礎}

# CSSの基本を学ぶ

## CSSとは

CSSとは、"Cascading Style Sheets"（カスケードスタイルシート）の略で、
HTMLと組み合わせることでページの見た目を装飾できます。

### ボックスとブロック

ページにデザインを適用する場合は、ボックス（ブロック、かたまり）という単位で考えるとよいでしょう。

ある範囲にボックスを作りたい場合は、次のように``<div>``タグを使います。

```html:block.html
<div>
    <h2>見出しのボックス</h2>
    <p>
        文章の
        <b>
           ボックス
        </b>
    </p>
</div>
```

![BOX](./shots/css/shot_c1_1.png)


# ボックス要素とインライン要素

HTMLにはさまざまなマークアップタグがありますが、
中でも表示に関するいくつかのタグがあります。

前項で紹介したコードを見ると、「見出しのボックス」と「文章のボックス」の間には自動で改行がされていますが、  
「文章の」と「ボックス」の間は改行されずに連続で表示されています。

この、自動で改行される要素を「ブロック要素」と言い、改行されないような要素を「インライン要素」と言います。  
インライン要素は、行内の一部を整形するために使用することがほとんどです。

そのため、このような場合に以下のようにコードを記載すると可読性が上がるでしょう。
変更しても、表示内容はまったく同じになります。

```html:block.html
<div>
    <h2>見出しのボックス</h2>
    <p>文章の<b>ボックス</b></p>
</div>
```

まとめると、以下のようになります。

|要素タイプ| 改行| タグの例|
|--------|----|--------|
|ブロック要素|される| h1~h6、p、ul、divなど
| インライン要素| されない| b、a、span、labelなど

## HTML5およびCSS3における要素分類

ブロック要素とインライン要素について解説しましたが、
HTML5ではこの考え方が廃止されています。

例として、HTML4では以下のようなルールがありました。

- インライン要素とブロック要素は並べて記載してはいけない
- インライン要素の中にブロック要素を入れ子にしてはいけない

HTML5ではこの制限はなくなりますので、たとえば次のような記述も可能となりました。

```html
<a>
    <div>
        <img src="./image.jpg">
        <div>こんにちは。</div>
    </div>
</a>
```

そのため、より柔軟なスタイルの指定も可能になりました。


## スタイルを指定するための3つの方法

実際にHTML要素へスタイルを適用するためには、
下記に記載のように3種類の方法があります。
下記のコードは、実行するといずれも同じ内容を表示できます。

### HTMLタグに直接指定する

HTMLのタグ要素に直接指定します。
一箇所のみ指定したい場合など、手軽に指定できます。

```html:style.html

　　〜

<div style="color:red;">
    色が赤くなります。
</div>

　　〜

```

### HTMLファイル内にstyleタグとして宣言する

styleタグで指定した中に、スタイルを指定します。
ここでは、すべてのdiv要素の中の文字を赤くするという記載になります。

この記載方法の場合、同じページ内すべてのdiv要素内の文字が赤くなります。
そのため、ページ内で使い回しの効くスタイルを指定できます。

```html:red.html
<head>
    <style type="text/css">
        div {
            color:red;
        }
    </style>
</head>
<body>

　　〜

    <div>
        色が赤くなります。
    </div>
</body>
```

### cssファイルを用意する

別ファイルとして「site.css」というファイルを作成し、
HTMLで読み込んで使用します。

HTMLファイル内に記載する場合と同じ動作をしますが、
ページを跨いで同じ表示形式をとりたい場合、1つのファイルを作成して書くページで同じcssファイルを読み込むだけで済みます。

```css:site.css
div {
    color:red;
}
```

```html:red.html
<head>
    <link rel="stylesheet" href="site.css">
</head>
　　〜
    <div>
        色が赤くなります。
    </div>
　　〜
```

## クラス名によるスタイルの適用

前項では、すべてのdiv要素に対するスタイル指定を紹介しましたが、
一部のdiv要素にのみ適用したい場合があります。

その場合には、要素の他にクラスを指定することで、
特定の要素に対してのみ適用できます。

```html:class.html
<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="site.css">
    <style type="text/css">
        .red {
            color:red;
        }

        .blue {
            color:blue;
        }
    </style>
</head>
<body>
    <div class="red">
        色が赤くなります。
    </div>
    <div class="blue">
        色が青くなります。
    </div>
</body>
</html>
```

実際に上記コードを実行すると、以下のようになります。

![赤と青](./shots/css/shot_c1_2.png)

正常に赤と青が表示されましたでしょうか？

このように、クラス指定を組み合わせることで
より簡単にスタイルの指定ができます。

## CSS3とベンダープレフィックス

HTML5の登場に合わせ、
CSS3という概念が登場しました。
このCSS3は、従来のCSSと比較して大きく進歩しました。

それまでも、CSS上で綺麗な表現をすることは可能でしたが、
ブラウザ毎の実装となっており、各ブラウザに対応したCSSを指定する必要がありました。
このブラウザ毎の実装を「ベンダープレフィックス」と呼びます。

例として、テキストなどを変形させるCSSは次の通りです。

```css
div {
     -webkit-transform: scale(2.5);
         -ms-transform: scale(2.5);
             transform: scale(2.5);
}
```

上から、Chrome/Safari、IE、CSS3の記述となります。

CSS3が正式に策定された現在では、ほとんどの場合このベンダープレフィックスを気にする必要はなくなりました。

ただし、古いブラウザ、とくに旧世代のIEをターゲットとする場合には注意が必要です。

## スタイル指定の基本形とセレクタ

### 基本となるスタイル

スタイルの基本構文は次の通りです。

```css
セレクタ {
    設定名: 値;
}
```

### セレクタ

セレクタは、スタイルを適用するための条件式を記載します。
セレクタに記載した条件に合致したHTML要素に対して、スタイルが適用されます。

#### 要素名セレクタ

pタグやaタグなど、タグの要素名から指定することができます。

例として、aタグの要素を変更します。

```css
a {
    color: red;
    font-size: large;
}
```

こうすることで、全てのa要素に対して上記のスタイルが適用されます。

#### クラス名を指定しての指定

特定の要素にのみ指定を行いたい場合、クラス名を指定してスタイルを記載します。

```css:style.css
.red {
    color: red;
}

.green{
    color: green;
}
```

```html:index.html
<html>
<body>
    <div class="red">Red</div>
    <p class="green">Green</p>
</body>
</html>
```

クラス指定する場合には、要素に関わらず指定することができます。

ただし、例えば非インライン要素に対するvertical-alignなど、
要素によっては適用されない場合があります。

### 複数の要素からセレクタを構成する

セレクタを指定する際に、複数の条件を使用してセレクタとすることができます。

例として、「文字を赤くする」ための記載をします。

```css
div.red {
    color: red;
    font-weight: bold;
}

a.red {
    color: red;
    font-size: large;
}
```

```html:index.html
<html>
<body>
    <div class="red">Red</div>
    <br/>
    <a class="red">Red</a>
</body>
</html>
```

この場合、同じclass="red"を指定した場合でも、
divタグは文字が太くなり、aタグは文字が大きくなります。

このように、同じクラス名を使用する場合でも、
要素ごとに違った挙動をさせることができます。

### 特定の要素のさらに子要素を指定する


CSSでは、複数の条件を指定することで子要素も含めたスタイルを指定できます。

◆ CSS

```css
div .red {
  color: red;
}
div .blue {
  color: blue;
}
```

◆ HTML

```html
<div >
  <h3 class="blue">blue header</h3>
  <span class="red">red span</span>
  <span class="blue">blue span</span>
  <p class="red">p red</p>
</div>
```

これを表示してみましょう。

![孫要素](shots/css/css-child-props.png)


このように、divの中に配置された各要素の色が変わっていることがわかります。

```css
div .red
```

このセレクタは、``div``要素の中にある``.red``クラスを指定した要素に対してスタイルを反映します。
この際、``div``と``.red``の間にはスペースを入れることが大事です。

もちろん、以下のようにさらに細かい指定をすることも可能です。

```css
div span.red
```


## 複数のスタイルを指定したときの挙動

### 同じ要素に対する指定

もし、1つのCSSの中で、同じ要素に対して複数回のスタイル指定があった場合にはどうなるのでしょうか。
例として、以下のようなCSSを考えてみます。

```css
<style>

a.link {
  color: black;
}

a.active {
  color: yellow;
}

a {
  color: red;
}

a {
  color: blue;
}

</style>

<a href="#">リンク1</a>
<a class="link" href="#">リンク2</a>
<a class="active link" href="#">リンク3</a>
```

リンク1の文字は青で表示されます。
このように、スタイルの指定が衝突した場合には、あとに記載された内容で上書きされていきます。

一方、リンク2の文字は黒で表示されます。
要素とスタイルの両方が指定されている場合には、順番にかかわらずそちらが優先されるためです。

スタイルの優先順位としては以下のようになります。

```text
要素#ID > #ID > 要素.クラス > .クラス > 要素 > *
```

なお、``要素.クラス``のスタイル指定で衝突した場合にはどうなるのでしょうか。
リンク3は、``a.active``と``a.link``の両方をクラスに指定しています。

実際に表示すると、クラス3は黄色で表示されます。

同じレベルのスタイル指定をした場合には、前述の通りスタイルシート記載の順番で決まります。

この場合、a要素へはactiveとlinkが指定されていますが、
スタイルシートの順序はlink->activeの順で記載されているため、activeに記載された黄色が優先されます。
